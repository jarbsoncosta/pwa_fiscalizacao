import{l as u,c as b,a as L,b as f,e as d,d as h,f as V,g as H,h as x,u as M,L as O,i as A,j as J,k as j,m as F,n as U,w as W}from"./TileLayer-D53SBd-y.js";import{M as Se,P as Ee,T as Pe,o as ke,p as xe,q as Me}from"./TileLayer-D53SBd-y.js";import{r as c,R as g,a as G}from"./index-DQnn4OZc.js";function R(a,n,e){n.center!==e.center&&a.setLatLng(n.center),n.radius!=null&&n.radius!==e.radius&&a.setRadius(n.radius)}function Z(a){return a.split(" ").filter(Boolean)}function z(a,n){for(const e of Z(n))u.DomUtil.addClass(a,e)}function S(a,n,e){n.bounds instanceof u.LatLngBounds&&n.bounds!==e.bounds&&a.setBounds(n.bounds),n.opacity!=null&&n.opacity!==e.opacity&&a.setOpacity(n.opacity),n.zIndex!=null&&n.zIndex!==e.zIndex&&a.setZIndex(n.zIndex)}const oe=b(function(n){return new u.Control.Attribution(n)}),re=L(function({center:n,children:e,...t},o){const r=new u.Circle(n,t);return f(r,d(o,{overlayContainer:r}))},R),le=L(function({center:n,children:e,...t},o){const r=new u.CircleMarker(n,t);return f(r,d(o,{overlayContainer:r}))},R),ce=L(function({children:n,...e},t){const o=new u.FeatureGroup([],e);return f(o,d(t,{layerContainer:o,overlayContainer:o}))}),ue=L(function({data:n,...e},t){const o=new u.GeoJSON(n,e);return f(o,d(t,{overlayContainer:o}))},function(n,e,t){e.style!==t.style&&(e.style==null?n.resetStyle():n.setStyle(e.style))}),ie=h(function({bounds:n,url:e,...t},o){const r=new u.ImageOverlay(e,n,t);return f(r,d(o,{overlayContainer:r}))},function(n,e,t){if(S(n,e,t),e.bounds!==t.bounds){const o=e.bounds instanceof u.LatLngBounds?e.bounds:new u.LatLngBounds(e.bounds);n.setBounds(o)}e.url!==t.url&&n.setUrl(e.url)}),se=h(function({children:n,...e},t){const o=new u.LayerGroup([],e);return f(o,d(t,{layerContainer:o}))}),D=x(function({children:n,...e},t){const o=new u.Control.Layers(void 0,void 0,e);return f(o,d(t,{layersControl:o}))},function(n,e,t){e.collapsed!==t.collapsed&&(e.collapsed===!0?n.collapse():n.expand())}),q=H(D),T=V(q);function _(a){return function(e){const t=M(),o=c.useRef(e),[r,l]=c.useState(null),{layersControl:i,map:s}=t,m=c.useCallback(C=>{i!=null&&(o.current.checked&&s.addLayer(C),a(i,C,o.current.name),l(C))},[a,i,s]),y=c.useCallback(C=>{i?.removeLayer(C),l(null)},[i]),p=c.useMemo(()=>d(t,{layerContainer:{addLayer:m,removeLayer:y}}),[t,m,y]);return c.useEffect(()=>{r!==null&&o.current!==e&&(e.checked===!0&&(o.current.checked==null||o.current.checked===!1)?s.addLayer(r):o.current.checked===!0&&(e.checked==null||e.checked===!1)&&s.removeLayer(r),o.current=e)}),e.children?g.createElement(O,{value:p},e.children):null}}T.BaseLayer=_(function(n,e,t){n.addBaseLayer(e,t)});T.Overlay=_(function(n,e,t){n.addOverlay(e,t)});function $({bounds:a,boundsOptions:n,center:e,children:t,className:o,id:r,placeholder:l,style:i,whenReady:s,zoom:m,...y},p){const[C]=c.useState({className:o,id:r,style:i}),[v,I]=c.useState(null),E=c.useRef(void 0);c.useImperativeHandle(p,()=>v?.map??null,[v]);const N=c.useCallback(P=>{if(P!==null&&!E.current){const w=new u.Map(P,y);E.current=w,e!=null&&m!=null?w.setView(e,m):a!=null&&w.fitBounds(a,n),s!=null&&w.whenReady(s),I(A(w))}},[]);c.useEffect(()=>()=>{v?.map.remove()},[v]);const B=v?g.createElement(O,{value:v},t):l??null;return g.createElement("div",{...C,ref:N},B)}const fe=c.forwardRef($),Y=["mapPane","markerPane","overlayPane","popupPane","shadowPane","tilePane","tooltipPane"];function k(a,n){const{[n]:e,...t}=a;return t}function K(a,n,e){if(Y.indexOf(a)!==-1)throw new Error(`You must use a unique name for a pane that is not a default Leaflet pane: ${a}`);if(e.map.getPane(a)!=null)throw new Error(`A pane with this name already exists: ${a}`);const t=n.pane??e.pane,o=t?e.map.getPane(t):void 0,r=e.map.createPane(a,o);if(n.className!=null&&z(r,n.className),n.style!=null)for(const l of Object.keys(n.style))r.style[l]=n.style[l];return r}function Q(a,n){const[e]=c.useState(a.name),[t,o]=c.useState(null);c.useImperativeHandle(n,()=>t,[t]);const r=M(),l=c.useMemo(()=>({...r,pane:e}),[r]);return c.useEffect(()=>(o(K(e,a,r)),function(){r.map.getPane(e)?.remove?.(),r.map._panes!=null&&(r.map._panes=k(r.map._panes,e),r.map._paneRenderers=k(r.map._paneRenderers,e))}),[]),a.children!=null&&t!=null?G.createPortal(g.createElement(O,{value:l},a.children),t):null}const de=c.forwardRef(Q),ye=L(function({positions:n,...e},t){const o=new u.Polygon(n,e);return f(o,d(t,{overlayContainer:o}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),me=L(function({positions:n,...e},t){const o=new u.Polyline(n,e);return f(o,d(t,{overlayContainer:o}))},function(n,e,t){e.positions!==t.positions&&n.setLatLngs(e.positions)}),Ce=L(function({bounds:n,...e},t){const o=new u.Rectangle(n,e);return f(o,d(t,{overlayContainer:o}))},function(n,e,t){e.bounds!==t.bounds&&n.setBounds(e.bounds)}),Le=b(function(n){return new u.Control.Scale(n)}),X=x(function(n,e){const{attributes:t,bounds:o,...r}=n,l=document.createElementNS("http://www.w3.org/2000/svg","svg");if(l.setAttribute("xmlns","http://www.w3.org/2000/svg"),t!=null)for(const s of Object.keys(t))l.setAttribute(s,t[s]);const i=new u.SVGOverlay(l,o,r);return f(i,e,l)},S),ee=J(X);function ne({children:a,...n},e){const{instance:t,container:o}=ee(n).current;return c.useImperativeHandle(e,()=>t),o==null||a==null?null:G.createPortal(a,o)}const ve=c.forwardRef(ne),we=j(function(n,e){const t=new u.Tooltip(n,e.overlayContainer);return f(t,e)},function(n,e,{position:t},o){c.useEffect(function(){const l=e.overlayContainer;if(l==null)return;const{instance:i}=n,s=y=>{y.tooltip===i&&(t!=null&&i.setLatLng(t),i.update(),o(!0))},m=y=>{y.tooltip===i&&o(!1)};return l.on({tooltipopen:s,tooltipclose:m}),l.bindTooltip(i),function(){l.off({tooltipopen:s,tooltipclose:m}),l._map!=null&&l.unbindTooltip()}},[n,e,o,t])}),ge=h(function({bounds:n,url:e,...t},o){const r=new u.VideoOverlay(e,n,t);return t.play===!0&&r.getElement()?.play(),f(r,d(o,{overlayContainer:r}))},function(n,e,t){S(n,e,t),typeof e.url=="string"&&e.url!==t.url&&n.setUrl(e.url);const o=n.getElement();o!=null&&(e.play===!0&&!t.play?o.play():!e.play&&t.play===!0&&o.pause())}),pe=F(function({eventHandlers:n,params:e={},url:t,...o},r){const l=new u.TileLayer.WMS(t,{...e,...W(o,r)});return f(l,r)},function(n,e,t){U(n,e,t),e.params!=null&&e.params!==t.params&&n.setParams(e.params)}),be=b(function(n){return new u.Control.Zoom(n)});export{oe as AttributionControl,re as Circle,le as CircleMarker,ce as FeatureGroup,ue as GeoJSON,ie as ImageOverlay,se as LayerGroup,T as LayersControl,fe as MapContainer,Se as Marker,de as Pane,ye as Polygon,me as Polyline,Ee as Popup,Ce as Rectangle,ve as SVGOverlay,Le as ScaleControl,Pe as TileLayer,we as Tooltip,ge as VideoOverlay,pe as WMSTileLayer,be as ZoomControl,ke as useMap,xe as useMapEvent,Me as useMapEvents};
